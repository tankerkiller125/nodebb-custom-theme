
html {
	height: 100%;
}

body {
	overflow-y: scroll;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
	text-rendering: optimizeLegibility;
	font-family: $font-family-base;
	color: $body-color;
	background-color: $body-bg;
}

// Homebox-inspired scrollbar styling
::-webkit-scrollbar {
	width: 0.3em;
	background-color: $gray-100;
}

::-webkit-scrollbar-thumb {
	background-color: rgba(0,0,0,.2);
	border-radius: 0.25rem;
}

::-webkit-scrollbar-track {
	background-color: $gray-100;
}

::-webkit-scrollbar-thumb:hover {
	background-color: $gray-500;
}

@include media-breakpoint-down(lg) {
	body:not(.page-user-chats) {
		min-height: 100vh;
		.layout-container {
			min-height: 100vh;
		}
	}
}

// fixes chrome font boosting :/ https://stackoverflow.com/questions/13430897/how-to-override-font-boosting-in-mobile-chrome
body * {
	max-height:1000000px;
	text-size-adjust: none;
	-webkit-text-size-adjust: none;
	-moz-text-size-adjust: none;
}

hr {
	border-top-color: $border-color;
	opacity: 1;
}

.ff-base { font-family: $font-family-base !important; }
.ff-sans { font-family: $font-family-sans-serif !important; }
.ff-secondary { font-family: $font-family-secondary; }
.tracking-tight { letter-spacing: -0.02em; }

.caret {
	&::after {
		border: none;
		font-family: "FontAwesome";
		content: "\f078";
	}
}

.placeholder-wave {
	opacity: 0.5;
}

.bg-card-cap {
	background-color: $card-cap-bg!important;
}

// Homebox-inspired card styling
.card {
	border-radius: $border-radius-lg;
	border-color: $gray-200;
	box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.08), 0 4px 6px -4px rgba(0, 0, 0, 0.04);
	overflow: hidden;
}

blockquote {
	$bq-border-color: mix($light, $dark, 75%);
	background-color: $light;
	color: $body-color;
	font-style: normal;
	border-left: 2px solid $bq-border-color;
	padding: 1rem;
	p:last-child {
		margin-bottom: 0;
	}
	.toggle {
		border-color: $bq-border-color!important;
	}
}

body:not(.page-user) {
	#content {
		transition: opacity 150ms linear;
		&.ajaxifying {
			-moz-opacity: 0;
			opacity: 0;
		}
	}
}
.page-user {
	#content {
		transition: opacity 150ms linear;
		&.ajaxifying .account-content {
			transition: opacity 150ms linear;
			-moz-opacity: 0;
			opacity: 0;
		}
	}
}

.sticky-tools {
	position: sticky;
	z-index: 3;
	top: 0;
	padding: 0.25rem 0;
}
.flex-basis-md-200 {
	@include media-breakpoint-up(md) {
		flex-basis: 200px!important;
	}
}

.markdown-highlight {
	box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
	border: 1px solid $border-color;
}

[component="chat/message/body"], [component="post/content"] {
	.img-fluid {
		box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
		padding: $spacer * 0.5;
		margin: $spacer * 0.5 0;
		border: 1px solid $border-color;
		background-color: $light;
		border-radius: $border-radius-sm;
		max-height: 500px;
		width: auto;
	}
}

[component="chat/message/body"],
[component="post/content"],
[component="topic/teaser"] .post-content,
[component="category/posts"] .post-content,
.post-queue.posts-list .post-content {
	a { text-decoration: underline;}
}

// Homebox-inspired button styling
.btn {
	border-radius: $border-radius;
	font-weight: $font-weight-semibold;
	transition: all 0.15s ease-in-out;
}

.btn-primary {
	background-color: $primary;
	border-color: $primary;
	&:hover {
		background-color: darken($primary, 8%);
		border-color: darken($primary, 8%);
	}
}

// Homebox-inspired form controls
.form-control, .form-select {
	border-radius: $border-radius;
	border-color: $gray-300;
	&:focus {
		border-color: $primary;
		box-shadow: 0 0 0 0.2rem rgba($primary, 0.15);
	}
}

// Homebox-style dropdown menus
.dropdown-menu {
	border-radius: $border-radius;
	border-color: $gray-200;
	box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.06);
}

// Homebox-style badge/tag appearance
.badge {
	border-radius: $border-radius;
	font-weight: $font-weight-semibold;
}

// Link styling
a {
	color: $link-color;
	text-decoration: none;
	&:hover {
		text-decoration: underline;
	}
}